<div>
  <div nz-row>
    <h1 nz-card-grid [ngStyle]="gridStyle">Goal</h1>
  </div>

  <div nz-row>
    <div nz-col nzFlex="2">
      <nz-card nzType="inner" style="margin-top: 16px;" nzTitle="Post new goal">
        <form nz-form [formGroup]="goalForm" class="custom-form" (ngSubmit)="submitForm()">
          <nz-form-item>
            <nz-form-control nzErrorTip="Please input your goal name!">
              <input type="text" nz-input formControlName="name" placeholder="Enter a name for your goal">
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzErrorTip="Please input your goal name!">
              <textarea nz-input placeholder="Enter description" formControlName="description"
                        [nzAutosize]="{minRows: 2, maxRows: 6}"></textarea>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzErrorTip="Please input the start date!">
              <nz-date-picker style="width: 100%;" formControlName="startDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-control nzErrorTip="Please input the end date!">
              <nz-date-picker style="width: 100%;" formControlName="endDate"></nz-date-picker>
            </nz-form-control>
          </nz-form-item>

          <button nz-button nzType="primary" nzBlock class="w-100" [disabled]="goalForm.invalid">
            Post goal
          </button>
        </form>
      </nz-card>
    </div>
    <div nz-col nzFlex="3" style="margin-left: 20px;">
      <nz-card nzType="inner" style="margin-top: 16px;" nzTitle="Past goals">
        <div nz-card-grid style="width: 100%;" *ngFor="let goal of goals">
          <div nz-col nzSpan="30">
            Name: <strong>{{ goal.name }}</strong>
            -
            Description: <strong>{{ goal.description }}</strong>
            -
            Start date : <strong>{{ goal.startDate | date }}</strong>
            -
            End date : <strong>{{ goal.endDate | date }}</strong>

            <span *ngIf="!goal.achieved" nz-icon [nzType]="'check-circle'" [nzTheme]="'twotone'"
                  style="margin-left: 16px"
                  [nzTwotoneColor]="'#52c41a'" (click)="updateStatus(goal.id)"></span>
          </div>
        </div>
      </nz-card>
    </div>
  </div>
</div>
